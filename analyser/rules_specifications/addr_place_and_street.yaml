---
QUERY:
  type: SQLProcessor
  query: >
    SELECT ST_AsText(centroid), osm_id, osm_type, address FROM placex 
    WHERE address ? 'place' AND address ? 'street' AND NOT address ? 'conscriptionnumber';
  results_types:
    - Node
  out:
    CONVERTER:
      type: GeoJSONFeatureConverter
      properties:
        /?nwr?/ -> $osm_type:
          - node_id: $osm_id
          - way_id: $osm_id
          - relation_id: $osm_id
        address: $address
      out:
        VECTOR_TILE:
          type: VectorTileFormatter
          folder_name: AddrWithPlaceAndStreet
          out:
            LAYER_FILE:
              type: OsmoscopeLayerFormatter
              file_name: AddrWithPlaceAndStreet
              data_format_url: vector_tile_url
              name: addr:place vs addr:street
              updates: Every evening
              doc:
                description: addr:place and addr:street on the same object.
                why_problem: Usually an house number refers either to a street or to a larger place. addr:place and addr:street should therefore not be used together.
                how_to_fix: Set only addr:place or addr:street but not both on the same object. Usually addr:place should be changed to something like addr:suburb or addr:city.