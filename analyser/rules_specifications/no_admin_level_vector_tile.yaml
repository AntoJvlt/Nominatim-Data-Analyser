---
QUERY:
  type: SQLProcessor
  query: >
    SELECT ST_AsText(centroid), osm_id FROM placex WHERE osm_type='R' AND class='boundary'
    AND type='administrative' AND admin_level >= 15 LIMIT 1;
  results_types:
    - Node
    - AdditionalData:
      - node_osm_id
  out:
    CONVERTER:
      type: GeoJSONFeatureConverter
      properties:
        relation_id: $node_osm_id
      out:
        GEOJSON:
          type: GeoJSONFormatter
          file_name: AdminBoundNoALGeoJson
          out:
            VECTOR_TILE_CONVERTER:
              type: VectorTileConverter
              file_name: AdminBoundNoALVectorTile
              out:
                LAYER_FILE:
                  type: LayerFormatter
                  layer_name: No admin level
                  file_name: AdminBoundNoAdminLevelVectorTile
                  updates: Every evening
                  docs:
                    description: Every relation with boundary=administrative should have a correct admin_level value set.
                    how_to_fix: An admin_level value should be set to the relation.